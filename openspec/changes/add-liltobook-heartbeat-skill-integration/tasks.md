## 1. 組み込みスキル `liltobook` の追加

- [x] 1.1 組み込みスキル配置先に `liltobook/SKILL.md` を追加し、`HEARTBEAT.md` の存在を明示する
- [x] 1.2 `liltobook/HEARTBEAT.md` を追加し、「会話履歴から再利用可能な内容を検出したら `skill-creator` 呼び出しを検討する」最小方針を記述する
- [x] 1.3 スキル探索時に `liltobook` が組み込みスキルとして一覧取得できることを確認する

## 2. heartbeat 実行統合

- [x] 2.1 既存 heartbeat ジョブ呼び出し経路で `liltobook/HEARTBEAT.md` を読み込み、`pi-coding-agent` 実行入力へ渡す処理を追加する
- [x] 2.2 heartbeat tick ごとに `liltobook` ジョブが有効時のみ実行される制御を追加する
- [x] 2.3 heartbeat ジョブ失敗時に他ジョブ継続を維持する既存要件を回帰確認する

## 3. 自律スキル化ガード（承認・重複抑止）

- [x] 3.1 heartbeat 起点で抽出されたスキル化候補について、作成前にユーザー承認を要求するフローを追加する
- [x] 3.2 未承認時は `skill-creator` による保存を実行しない制御を追加する
- [x] 3.3 既存スキルとの重複・類似判定（名前/説明/手順要約）を実装し、同等候補の作成を抑止する
- [x] 3.4 重複抑止時にユーザーへ理由を返すメッセージを追加する

## 4. テストと検証

- [x] 4.1 ユニットテストで `HEARTBEAT.md` 読み込みと `pi-coding-agent` 呼び出し連携を検証する
- [x] 4.2 ユニットテストで「未承認では未作成」「承認後のみ作成」を検証する
- [x] 4.3 ユニットテストで重複候補の作成抑止を検証する
- [x] 4.4 目的達成後に一定時間でスキル化提案が発生し、承認後に1件のみ作成される統合シナリオを検証する
