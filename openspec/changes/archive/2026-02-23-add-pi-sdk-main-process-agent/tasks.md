## 1. Main プロセスの Pi SDK 実行基盤

- [x] 1.1 `pi-coding-agent` を内包する `AgentRuntime` を Main 側に実装し、問い合わせ実行 API を公開する
- [x] 1.2 `submitPrompt` の実行前に認証状態を検証し、未認証時は認証必須エラーを返す
- [x] 1.3 SDK 実行失敗を標準化エラー（コード・メッセージ・再試行可否）へ変換する

## 2. Claude OAuth 認証サービス実装

- [x] 2.1 Pi `ai` パッケージ経由で Claude OAuth を開始・完了する `ClaudeAuthService` を実装する
- [x] 2.2 OAuth 状態（未認証・認証中・認証済み・失敗）を Main の単一状態として保持し、IPC で通知する
- [x] 2.3 OAuth 成功時トークンをセッションで再利用し、即時チャット送信可能な状態へ遷移させる

## 3. Renderer のシームレス認証 UI

- [x] 3.1 認証開始ボタン、進行表示、成功表示、失敗時再試行導線をチャット UI に追加する
- [x] 3.2 認証状態イベントを受けて UI 状態機械を更新し、未認証時の送信ガードを実装する
- [x] 3.3 認証成功後に同一画面で質問送信し、応答表示まで完了する一連フローを接続する

## 4. 検証と回帰確認

- [x] 4.1 Main の問い合わせ実行（認証済み成功 / 未認証拒否 / SDK失敗）をテストで検証する
- [x] 4.2 OAuth フロー（開始 / 成功 / 失敗・再試行）を手動検証し、ログで状態遷移を確認する
- [x] 4.3 README の該当未実装項目が実装済みであることを反映し、関連ドキュメントを更新する
